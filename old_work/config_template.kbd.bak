;; -----------------------------------------------------------------------------
(defcfg
  input  (device-file "<PATTERN_DEVICE_FILE>")
  output (uinput-sink "My KMonad output" "/bin/sleep 1")
  cmp-seq ralt    
  cmp-seq-delay 5
  fallthrough true
  allow-cmd true)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(defsrc
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
  grv    1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab    q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps   a    s    d    f    g    h    j    k    l    ;    '        ret
  lsft   z    x    c    v    b    n    m    ,    .    /    rsft
  lctl  lmet lalt          spc            ralt rmet cmp  rctl)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(defalias
  lsft (layer-toggle left-shift)
  cir  (layer-toggle accent-circonflexe)
  aig  (tap-hold-next-release 400  '  (layer-toggle accent-aigu))
  grv  (tap-hold-next-release 400  `  (layer-toggle accent-grave))
  trma (tap-hold-next-release 400  "  (layer-toggle accent-trema))
  Mgrv (tap-hold-next-release 400  ~  (layer-toggle maj-grave))
  Mcir (layer-toggle maj-circonflexe)

  xcp  (tap-hold-next 400 esc ctl)
  msp  (tap-hold-next-release 400 spc (layer-toggle magic-space))
  num  (layer-toggle numbers)
  ntab #(C-tab)
  ptab #(C-S-tab))
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer qwerty
esc @ptab @ntab  f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
  grv   1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab   q    w    e    r    t    y    u    i    o    p    [    ]    \
  @xcp  a    s    d    f    g    h    j    k    l    ;    @aig    ret
  @lsft z    x    c    v    b    n    m    ,    .    /    @grv 
  @num  lmet lalt           @msp            ralt rmet cmp  @cir)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer magic-space
  esc   f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
  grv    1    2    3    4    5    6    7    7    9    0    -    =    bspc
  tab    q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps   a    s    d    f    g  left down  up  right  ;    '        ret
  lsft   z    x    c    v    b    n    m    ,    .    /    rsft
  lctl  lmet lalt          spc            ralt rmet cmp  rctl)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer left-shift
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
    ~    !    @    #    $    %    ^    &    *   \(   \)   \_    +    _
    _    Q    W    E    R    T    Y    U    I    O    P    {    }    |
    _    A    S    D    F    G    H    J    K    L    :    @trma  _
    _    Z    X    C    V    B    N    M    <    >    ?    @Mgrv
    _    _    _              _              _    _    _    @Mcir)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer accent-aigu
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    ẃ    é    ŕ    _    ý    ú    í    ó    ṕ    _    _    _
   _    á    ś    _    _    ǵ    _    _    ḱ    ĺ    _    _    _
   _    ź    _    ć    ǘ    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer accent-grave
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    ẁ    è    ŕ    _    ỳ    ù    ì    ò    _    _    _    _
   _    à    _    _    _    _    _    _    _    _    _    _    _
 @Mgrv  _    _    _    ǘ    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer accent-circonflexe
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    _    7    8    9    0    _    _    _
   _    _    _    ê    _    _    _    û    î    ô    _    _    _    _
   _    â    _    _    _    _    _    _    _    _    _    _    _
@Mcir   _    _    _    _    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer maj-circonflexe
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    _    Ê    _    _    _    _    Î    Ô    _    _    _    _
   _    Â    _    _    _    _    _    _    _    _    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer maj-grave
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    Ẁ    È    _    _    Ỳ    _    _    _    _    _    _    _
   _    À    _    _    _    _    _    _    _    _    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer accent-trema
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    _    ë    _    _    _    ü    ï    ö    _    _    _    _
   _    ä    _    _    _    _    _    _    _    _    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------


;; -----------------------------------------------------------------------------
(deflayer numbers
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    _    _    _    _    _    _    7    8    9    *    _    _    _
   _    _    _    _    _    XX   /    4    5    6    -    _    _    _
   _    _    _    _    _    XX   *    1    2    3    +    _    _
   _    _    \(   \)   .    XX   1    0    0    .   ret   _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------

;; -----------------------------------------------------------------------------
(deflayer empty
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12  home end del
   _    1    2    3    4    5    6    7    8    9    0    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _    _    _    _    _    _    _    _    _    _
   _    _    _              _              _    _    _    _)
;; -----------------------------------------------------------------------------
